<html>
  <body>
    <script>
      (async () => {
        const response = await fetch('https://api.github.com/repos/dreamgrove/dreamgrove/contents/static/beta/');
        const data = await response.json();
        let htmlString = '<b>List of Files</b><ul style=\"font-family:monospace; font-size:large;\">';
        for (let file of data) {
          if (file.name != '.gitignore') {
            htmlString += `<li><a href="${file.name}" target="simframe">${file.name}</a></li>`;
          }
        }
        htmlString += '</ul>';
        document.getElementById('dir').innerHTML = htmlString;
      })()
      function changeTarget(sel) {
        idx2 = sel.selectedIndex;
        if (sel.options[idx2].value != 'none') {
          document.getElementById('frame2').src = sel.options[idx2].value;
        }
      }
      function changeFrame(child) {
        let ifdoc = child.contentWindow.document;
        let iftype = ifdoc.contentType || ifdoc.mimeType;
        if ( iftype != 'text/html') {
          ifdoc.body.style.backgroundColor = '#FFFFFF';
        }
      }
    </script>
    <style>body {background-color:#242424; color:#FF7D0A;} a {text-decoration:none; color:#FF7D0A;} ul {margin:0;} option, select {color:#FF7D0A; background-color:#242424; font-family:monospace; font-size:large;}</style>
    <div style="display:flex">
      <div stype="display:flex; flex-direction:column;">
        <div><b>Legendary x Covenant</b> <span style="font-family:monospace; font-size:large;">targets:</span>
          <select name="targets" onchange="changeTarget(this)">
            <option value="by_combo_1.html">1</option>
            <option value="by_combo_2.html">2</option>
            <option value="by_combo_3.html">3</option>
            <option value="by_combo_4.html">4</option>
            <option value="by_combo_5.html">5</option>
          </select>
        </div>
        <div><iframe name="comboframe" id="frame2" src="by_combo_1.html" style="border:none; font-family:monospace; font-size:large; width:43ch; height:25em;"></iframe></div>
        <div id="dir"></div>
      </div>
      <div style="display:flex; flex-direction:column;">
        <div><b><span id="simtitle"><b>Legendary x Covenant by Talents</span></b> <a href="by_talent.html" target="simframe" style="font-family:monospace; font-size:large;">reset</a></div>
        <iframe name="simframe" src="by_talent.html" style="border:none; height:94vh; width:1280px;" onload="changeFrame(this)"></iframe>
      </div>
    </div>
  <body>
</html>
